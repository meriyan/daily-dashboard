<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Meri's Daily Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 0;
    }
    .tabs {
      display: flex;
      justify-content: center;
      background-color: #007bff;
      flex-wrap: wrap;
    }
    .tab {
      padding: 15px 20px;
      color: white;
      cursor: pointer;
    }
    .tab.active {
      background-color: #0056b3;
    }
    .content {
      padding: 30px;
      max-width: 700px;
      margin: auto;
    }
    h1 { text-align: center; }
    #currentDate {
      text-align: center;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .todo-container {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    ul { list-style-type: none; padding-left: 0; }
    li {
      background: #eee;
      padding: 10px;
      margin-bottom: 8px;
      border-radius: 5px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .completed .task-text {
      text-decoration: line-through;
      color: gray;
    }
    .task-group {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-grow: 1;
    }
    .remove-btn {
      background: red;
      color: white;
      padding: 5px 10px;
      border-radius: 4px;
    }
    input[type="checkbox"] {
      transform: scale(1.2);
    }
    .hidden { display: none; }
    .log-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }
  </style>
</head>
<body>
  <div class="tabs">
    <div class="tab active" onclick="switchTab('todo')">‚úÖ Meri's To-Do's</div>
    <div class="tab" onclick="switchTab('timelog')">‚è±Ô∏è Time Log</div>
    <div class="tab" onclick="switchTab('social')">üì± Social Tracker</div>
    <div class="tab" onclick="switchTab('hair')">üíá Hair Tracker</div>
    <div class="tab" onclick="switchTab('sleep')">üí§ Sleep Tracker</div>
  </div>
  <div class="content">
    <div id="currentDate"></div>
    <div id="todo" class="todo-container">
      <h1>Meri's To-Do's</h1>
      <select id="todoDate"></select>
      <input type="text" id="taskInput" placeholder="Write your task..." />
      <button onclick="addTask()">Add</button>
      <ul id="taskList"></ul>
    </div>
    <!-- Additional trackers follow similar structure -->
  </div>
  <script>
    const dateEl = document.getElementById("currentDate");
    const todayStr = new Date().toISOString().split("T")[0];
    dateEl.textContent = "üìÖ " + new Date().toDateString();

    const taskList = document.getElementById("taskList");
    const todoDate = document.getElementById("todoDate");
    let todoData = JSON.parse(localStorage.getItem("meri_todos")) || {};

    function populateDates(select) {
      select.innerHTML = "";
      const dates = Object.keys(todoData).sort((a,b)=>new Date(b)-new Date(a));
      if (!dates.includes(todayStr)) dates.unshift(todayStr);
      dates.forEach(date => {
        const option = document.createElement("option");
        option.value = date;
        option.textContent = date;
        select.appendChild(option);
      });
    }

    function switchTab(id) {
      document.querySelectorAll('.todo-container').forEach(div => div.classList.add('hidden'));
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.getElementById(id).classList.remove('hidden');
      document.querySelector(`.tab[onclick="switchTab('${id}')"]`).classList.add("active");
    }

    function renderTasks(date) {
      taskList.innerHTML = "";
      const tasks = todoData[date] || [];
      tasks.forEach(({text, completed}) => addTask(text, completed, false));
    }

    function addTask(text = "", completed = false, save = true) {
      const input = document.getElementById("taskInput");
      const taskText = text || input.value.trim();
      if (!taskText) return;

      const li = document.createElement("li");
      if (completed) li.classList.add("completed");
      const taskGroup = document.createElement("div");
      taskGroup.className = "task-group";
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = completed;
      const span = document.createElement("span");
      span.className = "task-text";
      span.textContent = taskText;

      checkbox.onchange = () => {
        li.classList.toggle("completed");
        saveTasks();
      };

      const deleteBtn = document.createElement("button");
      deleteBtn.textContent = "üóëÔ∏è";
      deleteBtn.className = "remove-btn";
      deleteBtn.onclick = () => {
        li.remove();
        saveTasks();
      };

      taskGroup.appendChild(checkbox);
      taskGroup.appendChild(span);
      li.appendChild(taskGroup);
      li.appendChild(deleteBtn);
      taskList.appendChild(li);
      if (!text) input.value = "";
      if (save) saveTasks();
    }

    function saveTasks() {
      const date = todoDate.value;
      todoData[date] = [...taskList.children].map(li => {
        const text = li.querySelector(".task-text").textContent;
        const completed = li.querySelector("input").checked;
        return {text, completed};
      });
      localStorage.setItem("meri_todos", JSON.stringify(todoData));
    }

    todoDate.onchange = () => renderTasks(todoDate.value);
    populateDates(todoDate);
    todoDate.value = todayStr;
    renderTasks(todayStr);
  </script>
</body>
</html>
